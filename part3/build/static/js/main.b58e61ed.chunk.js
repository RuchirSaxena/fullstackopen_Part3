(window.webpackJsonppart1=window.webpackJsonppart1||[]).push([[0],{114:function(e,n){},116:function(e,n){},151:function(e,n){},152:function(e,n){},194:function(e,n,t){"use strict";t.r(n);var a=t(2),r=t.n(a),c=t(88),o=t.n(c),u=t(15),i=function(e){var n=e.id,t=e.name,a=e.phoneNumber,c=e.deletePhoneRecord;return r.a.createElement("div",null,r.a.createElement("span",null,t,"\xa0"),r.a.createElement("span",null,a),r.a.createElement("input",{type:"button",value:"delete",onClick:function(){return c(n)}}))},l=function(e){var n=e.name,t=e.phoneNumber,a=e.nameChange,c=e.phoneChange,o=e.addPhoneRecord;return r.a.createElement("form",null,r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:n,onChange:a})),r.a.createElement("div",null,"number: ",r.a.createElement("input",{value:t,onChange:c})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",onClick:o},"add")))},d=function(e){var n=e.handleSearch;return r.a.createElement("div",null,"filter shown with : ",r.a.createElement("input",{onChange:n}))},m=t(22),f=t.n(m),h="/api/persons",s=function(e){var n=e.message,t=e.type;if(!n)return null;var a="success"===(void 0===t?"success":t)?"green":"red",c={backgroundColor:"#cbd5cb",fontSize:22,padding:5,border:"4px ".concat(a," solid"),color:a,borderRadius:6};return r.a.createElement("div",{style:c},n)},b=t(110),p=function(){var e=Object(a.useState)([]),n=Object(u.a)(e,2),t=n[0],c=n[1],o=Object(a.useState)(""),m=Object(u.a)(o,2),p=m[0],v=m[1],E=Object(a.useState)(""),g=Object(u.a)(E,2),w=g[0],C=g[1],j=Object(a.useState)(""),O=Object(u.a)(j,2),y=O[0],k=O[1],S=Object(a.useState)(""),N=Object(u.a)(S,2),P=N[0],R=N[1];Object(a.useEffect)(function(){x()},[]);var x=function(){f.a.get(h).then(function(e){return e.data}).then(function(e){c(e)}).catch(function(e){return console.log(e)})},D=function(e){var n=t.find(function(n){return n.id===e});if(window.confirm("Delete ".concat(n.name," ?"))){var a=t.filter(function(n){return n.id!==e});(function(e){return f.a.delete("".concat(h,"/").concat(e)).then(function(e){return e.data})})(n.id).then(function(e){return c(a)}).catch(function(e){return L("Information of ".concat(n.name," has already been removed from server"),"failure")})}},I=function(e,n){(function(e,n){return f.a.put("".concat(h,"/").concat(e),n).then(function(e){return e.data})})(e,n).then(function(n){c(t.map(function(t){return t.id!==e?t:n}))}).catch(function(e){return console.log(e)})},J=function(){v(""),C("")},L=function(e,n){k(e),R(n)};return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement("h2",null," ",r.a.createElement(s,{message:y,type:P})," "),r.a.createElement(d,{handleSearch:function(e){var n=e.target.value.trim(),a=t.filter(function(e){return e.name.trim().toLowerCase().includes(n.toLowerCase())});a.length&&n?c(a):x()}}),r.a.createElement("h2",null,"add a new"),r.a.createElement(l,{name:p,phoneNumber:w,nameChange:function(e){var n=e.target.value.trim();v(n)},phoneChange:function(e){var n=e.target.value.trim();C(n)},addPhoneRecord:function(e){e.preventDefault();var n=t.filter(function(e){return e.name===p});if(n.length){if(window.confirm("".concat(p," has already been added to the phonebook, replace the old number with new number?"))){var a={name:p,number:w,id:n[0].id};I(n[0].id,a)}J()}else{var r,o={name:p,number:w,id:b()};J(),(r=o,f.a.post(h,r).then(function(e){return e.data})).then(function(e){c(t.concat(e)),L(p+" added","success")}).catch(function(e){return console.log(e)})}}}),r.a.createElement("h3",null,"Numbers"),t.map(function(e){return r.a.createElement(i,{key:e.id,id:e.id,name:e.name,phoneNumber:e.number,deletePhoneRecord:D})}))};o.a.render(r.a.createElement(p,null),document.getElementById("root"))},89:function(e,n,t){e.exports=t(194)}},[[89,1,2]]]);
//# sourceMappingURL=main.b58e61ed.chunk.js.map